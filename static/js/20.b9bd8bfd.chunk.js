(this["webpackJsonppancake-frontend"]=this["webpackJsonppancake-frontend"]||[]).push([[20],{1143:function(e,t,n){"use strict";n.r(t);var c=n(4),a=n.n(c),r=n(31),i=n(17),s=n(0),o=n(793),l=n(142),u=n(850),d=n(834),b=n(806),j=n(53),x=n(873),m=n(854),f=n(794),p=n(809),h=n(5),g=Object(o.a)((function(e){return{container:{marginBottom:140}}})),O=function(e){var t=e.data,n=g();return Object(h.jsx)("div",{className:n.container,children:Object(h.jsx)(f.a,{container:!0,spacing:2,children:(t||new Array(10).fill("")).map((function(e,t){return Object(h.jsx)(f.a,{item:!0,xs:6,md:3,children:Object(h.jsx)(p.a,{reverse:!e.hold,data:e})},e.id||t)}))})})},v=Object(o.a)((function(e){return{container:{},pageTitle:{textAlign:"center",fontSize:"44px",fontFamily:"title",padding:"20px 0 80px"}}}));t.default=function(){var e=v(),t=Object(b.a)().id,n=Object(s.useState)({}),c=Object(i.a)(n,2),o=c[0],f=c[1],p=Object(j.a)(),g=function(){var e=Object(r.a)(a.a.mark((function e(){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(d.b)({id:t});case 2:n=e.sent,f(n);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(s.useEffect)((function(){g()}),[p]),Object(h.jsx)("div",{className:e.container,children:Object(h.jsxs)(l.a,{children:[Object(h.jsx)(u.a,{}),Object(h.jsx)("div",{className:e.pageTitle,children:"Collect your collections"}),Object(h.jsx)(x.a,{data:o}),Object(h.jsx)(m.a,{value:o.completed}),Object(h.jsx)(O,{data:o.require_arr})]})})}},806:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var c=n(811),a=n(0),r=n(36);function i(){var e=Object(r.g)().search;return Object(a.useMemo)((function(){return e&&e.length>1?Object(c.parse)(e,{parseArrays:!1,ignoreQueryPrefix:!0}):{}}),[e])}},834:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return r})),n.d(t,"d",(function(){return i})),n.d(t,"f",(function(){return s})),n.d(t,"e",(function(){return o})),n.d(t,"a",(function(){return l}));var c=n(66),a=function(e){return c.a.request({url:"/v1/collect",method:"get",params:e})},r=function(e){return c.a.request({url:"/v1/collect/page",method:"get",params:e})},i=function(e){return c.a.request({url:"/v1/collect/exchange",method:"get",params:e})},s=function(e){return c.a.request({url:"/v1/collect/exchange/snapshot",method:"get",params:e})},o=function(e){return c.a.request({url:"/v1/collect/exchange/by/code",method:"get",params:e})},l=function(e){return c.a.request({url:"/v1/collect/clear/exchange",method:"get",params:e})}},850:function(e,t,n){"use strict";n(0);var c=n(793),a=n(797),r=n(19),i=n(5),s=Object(c.a)((function(e){return{container:{display:"inline-flex",alignItems:"center",padding:"10px 0 60px",color:e.palette.text.third,fontSize:18,fontWeight:"bold",cursor:"pointer"}}}));t.a=function(e){var t=e.className,n=void 0===t?"":t,c=s();return Object(i.jsxs)("div",{className:Object(r.a)(c.container,n),onClick:function(){window.history.back()},children:[Object(i.jsx)(a.a,{baseClassName:"iconfont dj-back"}),"\xa0Back"]})}},854:function(e,t,n){"use strict";var c=n(13),a=n(0),r=n(793),i=n(184),s=n(19),o=n(5),l=Object(r.a)((function(e){return{container:{marginBottom:40,display:"flex",alignItems:"center"},title:{display:"flex",alignItems:"center",textTransform:"uppercase",fontSize:20,marginRight:30,fontWeight:600},percent:{"& span":{fontSize:24,fontWeight:"bold",marginLeft:10},display:"flex",alignItems:"center"},percentItem:{height:24,width:16,marginRight:10,transform:"skew(-20deg)",border:"1px solid #979797"},percentItemActive:{background:e.palette.primary.main,border:0}}}));t.a=function(e){var t=e.value,n=Object(a.useMemo)((function(){return Object(i.a)(100*t,0)}),[t]),r=l({value:n});return Object(o.jsxs)("div",{className:r.container,children:[Object(o.jsx)("div",{className:r.title,children:"Overall degree of collection"}),Object(o.jsxs)("div",{className:r.percent,children:[new Array(10).fill("").map((function(e,n){return Object(o.jsx)("div",{className:Object(s.a)(r.percentItem,Object(c.a)({},r.percentItemActive,Math.floor(10*t)>=n+1))},n)})),Object(o.jsxs)("span",{children:[n,"%"]})]})]})}},873:function(e,t,n){"use strict";var c,a=n(0),r=n(793),i=n(794),s=n(805),o=n(853),l=n(810),u=n.n(l),d=n(5),b=Object(r.a)((function(e){return{hintText:{fontSize:16,marginBottom:10},countdown:{fontSize:"20px",display:"flex",alignItems:"center","& span":{background:e.palette.background.default,borderRadius:2,textAlign:"center",fontSize:16,lineHeight:"50px",height:"50px",width:"50px",fontWeight:"bold",marginRight:6,fontFamily:"number"}},timeText:{display:"flex",alignItem:"center","& span":{width:"50px",marginRight:6,textAlign:"center",fontSize:12,marginTop:6}}}})),j=function(e){var t=e.title,n=e.time,c=b(),r=Object(a.useMemo)((function(){return n?u()(n).valueOf():1}),[n]);return Object(d.jsxs)("div",{children:[t&&Object(d.jsx)("div",{className:c.hintText,children:t}),Object(d.jsx)(o.a,{renderer:function(e){var t=e.days,n=e.hours,a=e.minutes,r=e.seconds;return Object(d.jsxs)("div",{className:c.countdown,children:[Object(d.jsx)("span",{children:Object(o.b)(t)||"00"}),Object(d.jsx)("span",{children:Object(o.b)(n)||"00"}),Object(d.jsx)("span",{children:Object(o.b)(a)||"00"}),Object(d.jsx)("span",{children:Object(o.b)(r)||"00"})]})},date:r},r),Object(d.jsxs)("div",{className:c.timeText,children:[Object(d.jsx)("span",{children:"days"}),Object(d.jsx)("span",{children:"hours"}),Object(d.jsx)("span",{children:"minutes"}),Object(d.jsx)("span",{children:"seconds"})]})]})};!function(e){e.NOT_QUALIFIED="not-qualified",e.QUALIFIED="qualified",e.EXCHANGED="exchanged"}(c||(c={}));var x=n(35),m=n(96),f=n(4),p=n.n(f),h=n(31),g=n(17),O=n(1134),v=n(821),I=n(834),w=n(53),N=n(97),k=n(944),y=n(22),S=n(240),C=n(912),A=n(796),z=n(812),T=Object(r.a)((function(e){return{content:{padding:20},imgContainer:{background:"#0F0F10",textAlign:"center",padding:"60px 0"},successContent:{padding:"30px 0 10px",textAlign:"center"},successText:{fontSize:24,marginBottom:30,fontWeight:"bold"},boxImg:{height:250,maxWidth:"90%"}}})),E=function(e){var t=e.rewardImg,n=Object(S.a)(e,["rewardImg"]),c=T();return Object(d.jsx)(z.a,Object(y.a)(Object(y.a)({},n),{},{maxWidth:"xs",fullWidth:!0,children:Object(d.jsxs)("div",{className:c.content,children:[Object(d.jsx)("div",{className:c.imgContainer,children:Object(d.jsx)("img",{src:t,className:c.boxImg,alt:""})}),Object(d.jsxs)("div",{className:c.successContent,children:[Object(d.jsx)(C.a,{className:c.successText,children:"Cast complete to view"}),Object(d.jsx)(A.a,{variant:"contained",size:"large",fullWidth:!0,onClick:function(){m.a.push(x.a.MINE)},children:"TO VIEW"})]})]})}))},W=Object(r.a)((function(e){return{exchangeBtn:{width:450,maxWidth:"100%",marginTop:15,fontWeight:"bold","&.Mui-disabled:not(.MuiLoadingButton-loading)":{background:"rgba(255,255,255,0.8)",color:e.palette.text.fourth}}}})),B=function(e){var t=e.id,n=e.disabled,c=e.rewardImg,r=W(),i=Object(a.useState)(!1),s=Object(g.a)(i,2),o=s[0],l=s[1],u=Object(a.useState)(n),b=Object(g.a)(u,2),j=b[0],x=b[1],m=Object(a.useState)(""),f=Object(g.a)(m,2),y=f[0],S=f[1],C=Object(a.useState)(!1),A=Object(g.a)(C,2),z=A[0],T=A[1],B=Object(N.a)(),q=(B.toastSuccess,B.toastError),D=Object(a.useState)(null),F=Object(g.a)(D,2),_=F[0],M=F[1],R=Object(v.b)(),L=Object(w.a)(),H=function(){var e=Object(h.a)(p.a.mark((function e(){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(I.d)({id:t});case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Q=function(){var e=Object(h.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(!0),e.prev=1,e.next=4,H();case 4:return t=e.sent,S(t.code),e.next=8,R.mintSpecialNFT(L,t.timestamp,t.code,t.signature);case 8:M(1e4),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),l(!1),(null===e.t0||void 0===e.t0?void 0:e.t0.message)&&q(null===e.t0||void 0===e.t0?void 0:e.t0.message);case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(){return e.apply(this,arguments)}}(),U=function(){var e=Object(h.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(I.e)({code:y});case 2:e.sent&&(l(!1),M(null),T(!0),x(!0));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(k.a)((function(){U()}),_),Object(a.useEffect)((function(){x(n)}),[n]),Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(E,{onClose:function(){T(!1)},rewardImg:c,open:z}),Object(d.jsx)(O.a,{disabled:j,variant:"contained",loading:o,onClick:Q,size:"large",className:r.exchangeBtn,children:"Exchange"})]})},q=Object(r.a)((function(e){return{container:{marginBottom:60},banner:{position:"relative",background:e.palette.background.default,padding:"30px 50px"},bannerBg:{position:"absolute",top:10,left:10,right:10,bottom:10,zIndex:0},boxImgContainer:{width:420,height:325,boxShadow:"0px 5px 10px 0px rgba(0, 0, 0, 0.5)",cursor:"pointer",position:"relative","&::after":{content:function(e){return e.status===c.EXCHANGED?'""':""},position:"absolute",top:0,left:0,right:0,bottom:0,background:"url(/images/collections/haveObtained.png) no-repeat center center",backgroundSize:"contain",zIndex:1}},contentContainer:{position:"relative",zIndex:1},boxImg:{},title:{fontSize:40,fontWeight:600,lineHeight:1.5,marginBottom:10,textAlign:"right"},description:{marginBottom:20,lineHeight:1.5,fontSize:16,textAlign:"right"}}}));t.a=function(e){var t,n,r,o,l,u=e.data,b=q({status:null===u||void 0===u?void 0:u.status}),f=Object(a.useMemo)((function(){return!u||!u.status||u.status!==c.QUALIFIED}),[u]);return Object(d.jsx)("div",{className:b.container,children:Object(d.jsxs)("div",{className:b.banner,children:[Object(d.jsx)("div",{className:b.bannerBg,children:Object(d.jsx)(s.a,{src:null===u||void 0===u||null===(t=u.banner_resource)||void 0===t?void 0:t.url,style:{height:"100%"},aspectRatio:0,alt:""})}),Object(d.jsxs)(i.a,{container:!0,spacing:10,className:b.contentContainer,children:[Object(d.jsx)(i.a,{item:!0,children:Object(d.jsx)("div",{className:b.boxImgContainer,onClick:function(){m.a.push("".concat(x.a.WORK_DETAIL,"?id=").concat(u.reward.work_id))},children:Object(d.jsx)(s.a,{src:null===u||void 0===u||null===(n=u.reward)||void 0===n||null===(r=n.cover_resource)||void 0===r?void 0:r.url,className:b.boxImg,aspectRatio:1.29,alt:""})})}),Object(d.jsxs)(i.a,{item:!0,container:!0,flexDirection:"column",xs:!0,justifyContent:"space-between",children:[Object(d.jsxs)(i.a,{item:!0,container:!0,alignItems:"flex-end",flexDirection:"column",children:[Object(d.jsx)("div",{className:b.title,children:null===u||void 0===u?void 0:u.title}),Object(d.jsx)("div",{className:b.description,children:null===u||void 0===u?void 0:u.sub_title})]}),Object(d.jsxs)(i.a,{item:!0,container:!0,alignItems:"flex-end",flexDirection:"column",children:[Object(d.jsx)(j,{time:u.end_time}),Object(d.jsx)(B,{rewardImg:null===u||void 0===u||null===(o=u.reward)||void 0===o||null===(l=o.cover_resource)||void 0===l?void 0:l.url,disabled:f,id:u.id})]})]})]})]})})}}}]);